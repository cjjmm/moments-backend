# ğŸ§ª æ²¡æœ‰åç«¯æ—¶çš„æµ‹è¯•æŒ‡å—

## âœ… Mock æœåŠ¡å·²é…ç½®å®Œæˆï¼

æˆ‘å·²ç»ä¸ºä½ é…ç½®äº† **Mock Service Worker (MSW)**ï¼Œå®ƒä¼šæ‹¦æˆªæ‰€æœ‰APIè¯·æ±‚å¹¶è¿”å›æ¨¡æ‹Ÿæ•°æ®ã€‚ç°åœ¨ä½ å¯ä»¥åœ¨**æ²¡æœ‰åç«¯**çš„æƒ…å†µä¸‹æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼

## ğŸš€ å¦‚ä½•æµ‹è¯•

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å¯åŠ¨åï¼Œä½ ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°çœ‹åˆ°ï¼š
```
[MSW] Mocking enabled.
```

è¿™è¯´æ˜MockæœåŠ¡å·²ç»å¯åŠ¨æˆåŠŸï¼

### 2. ç™»å½•æµ‹è¯•

è®¿é—® `http://localhost:5173`ï¼Œä½¿ç”¨ä»¥ä¸‹æµ‹è¯•è´¦å·ï¼š

#### ç®¡ç†å‘˜è´¦å·ï¼ˆæ¨èï¼‰
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `123456`
- **è§’è‰²**: ç®¡ç†å‘˜
- **è¯´æ˜**: å¯ä»¥è®¿é—®æ‰€æœ‰ç®¡ç†åŠŸèƒ½

#### æ™®é€šç”¨æˆ·è´¦å·
- **ç”¨æˆ·å**: `user`
- **å¯†ç **: `123456`
- **è§’è‰²**: æ™®é€šç”¨æˆ·
- **è¯´æ˜**: ç™»å½•åä¼šæç¤ºæ— æƒé™è®¿é—®åå°

### 3. æµ‹è¯•åŠŸèƒ½

#### âœ“ ç»Ÿè®¡åˆ†æé¡µé¢
- æŸ¥çœ‹ 4 ä¸ªç»Ÿè®¡æ•°æ®å¡ç‰‡
- æŸ¥çœ‹å†…å®¹ç±»å‹åˆ†å¸ƒé¥¼å›¾
- åˆ‡æ¢æŸ¥çœ‹æœ€è¿‘ 7 å¤©/30 å¤©è¶‹åŠ¿
- æ‰€æœ‰å›¾è¡¨éƒ½æœ‰çœŸå®çš„æ¨¡æ‹Ÿæ•°æ®

#### âœ“ ç”¨æˆ·ç®¡ç†é¡µé¢
- å…±æœ‰ **50 ä¸ªæ¨¡æ‹Ÿç”¨æˆ·**
- æ”¯æŒåˆ†é¡µæŸ¥çœ‹ï¼ˆæ¯é¡µ10/20/50/100æ¡ï¼‰
- ç‚¹å‡»"åˆ é™¤"æŒ‰é’®ä¼šä»åˆ—è¡¨ä¸­ç§»é™¤ç”¨æˆ·
- ç®¡ç†å‘˜è´¦å·çš„åˆ é™¤æŒ‰é’®è¢«ç¦ç”¨
- åˆ·æ–°æŒ‰é’®å¯ä»¥é‡æ–°åŠ è½½åˆ—è¡¨

#### âœ“ å†…å®¹ç®¡ç†é¡µé¢
- å…±æœ‰ **80 æ¡æ¨¡æ‹Ÿå†…å®¹**
- åŒ…å«å›¾ç‰‡ã€è§†é¢‘ã€æ–‡æœ¬ä¸‰ç§ç±»å‹
- æ”¯æŒæŒ‰æ—¥æœŸèŒƒå›´ç­›é€‰
- é¼ æ ‡æ‚¬åœæŸ¥çœ‹åª’ä½“é¢„è§ˆ
- ç‚¹å‡»"åˆ é™¤"æŒ‰é’®ç§»é™¤å†…å®¹
- æ”¯æŒåˆ†é¡µæŸ¥çœ‹

## ğŸ“Š æ¨¡æ‹Ÿæ•°æ®è¯´æ˜

### ç”¨æˆ·æ•°æ®
- æ€»å…± 50 ä¸ªç”¨æˆ·
- 1 ä¸ªç®¡ç†å‘˜è´¦å·
- 49 ä¸ªæ™®é€šç”¨æˆ·
- åŒ…å«å¤´åƒã€æ˜µç§°ã€çŠ¶æ€ã€å‘å¸–æ•°ç­‰ä¿¡æ¯

### å†…å®¹æ•°æ®
- æ€»å…± 80 æ¡å†…å®¹
- 45 æ¡å›¾ç‰‡å†…å®¹
- 20 æ¡è§†é¢‘å†…å®¹
- 15 æ¡æ–‡æœ¬å†…å®¹
- åŒ…å«ç‚¹èµã€è¯„è®ºã€æµè§ˆã€è¯„åˆ†ç­‰æ•°æ®

### ç»Ÿè®¡æ•°æ®
- ç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡
- å†…å®¹ç±»å‹åˆ†å¸ƒ
- æœ€è¿‘ 7 å¤©å’Œ 30 å¤©çš„æ´»è·ƒè¶‹åŠ¿

## ğŸ¯ æµ‹è¯•å»ºè®®

### åŸºç¡€åŠŸèƒ½æµ‹è¯•
1. **ç™»å½•æµç¨‹**
   - æµ‹è¯•æ­£ç¡®çš„ç®¡ç†å‘˜è´¦å·ç™»å½•
   - æµ‹è¯•æ™®é€šç”¨æˆ·è´¦å·ç™»å½•ï¼ˆåº”è¯¥è¢«æ‹’ç»ï¼‰
   - æµ‹è¯•é”™è¯¯çš„è´¦å·å¯†ç 

2. **ç”¨æˆ·ç®¡ç†**
   - ç¿»é¡µæŸ¥çœ‹ä¸åŒçš„ç”¨æˆ·
   - åˆ é™¤ä¸€ä¸ªç”¨æˆ·ï¼Œçœ‹åˆ—è¡¨æ˜¯å¦æ›´æ–°
   - ä¿®æ”¹æ¯é¡µæ˜¾ç¤ºæ•°é‡

3. **å†…å®¹ç®¡ç†**
   - é€‰æ‹©ä¸åŒçš„æ—¥æœŸèŒƒå›´ç­›é€‰
   - é¼ æ ‡æ‚¬åœæŸ¥çœ‹å›¾ç‰‡é¢„è§ˆ
   - åˆ é™¤å†…å®¹
   - æŸ¥çœ‹è¯„åˆ†æ˜¾ç¤º

4. **ç»Ÿè®¡åˆ†æ**
   - æŸ¥çœ‹ç»Ÿè®¡å¡ç‰‡æ•°æ®
   - åˆ‡æ¢æŸ¥çœ‹ 7 å¤©/30 å¤©è¶‹åŠ¿
   - é¼ æ ‡æ‚¬åœåœ¨å›¾è¡¨ä¸ŠæŸ¥çœ‹è¯¦ç»†æ•°æ®

### UI/UX æµ‹è¯•
1. **å“åº”å¼æµ‹è¯•**
   - è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°
   - æŸ¥çœ‹è¡¨æ ¼æ˜¯å¦èƒ½æ­£å¸¸æ˜¾ç¤º

2. **äº¤äº’åé¦ˆ**
   - åˆ é™¤æ“ä½œæ˜¯å¦æœ‰ç¡®è®¤æç¤º
   - æ“ä½œåæ˜¯å¦æœ‰æˆåŠŸ/å¤±è´¥æç¤º
   - åŠ è½½çŠ¶æ€æ˜¯å¦æ˜¾ç¤º

3. **è·¯ç”±æµ‹è¯•**
   - ç›´æ¥è®¿é—®éœ€è¦ç™»å½•çš„é¡µé¢ï¼Œæ˜¯å¦è·³è½¬åˆ°ç™»å½•é¡µ
   - å·²ç™»å½•çŠ¶æ€è®¿é—®ç™»å½•é¡µï¼Œæ˜¯å¦è·³è½¬åˆ°ç®¡ç†åå°
   - åˆ‡æ¢ä¸åŒé¡µé¢æ˜¯å¦æ­£å¸¸

## ğŸ”§ è‡ªå®šä¹‰ Mock æ•°æ®

### ä¿®æ”¹æ¨¡æ‹Ÿæ•°æ®

å¦‚æœä½ æƒ³ä¿®æ”¹æ¨¡æ‹Ÿæ•°æ®ï¼Œç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼š

**`src/mocks/data.ts`** - ä¿®æ”¹æ•°æ®å†…å®¹
```typescript
// ä¿®æ”¹ç”¨æˆ·æ•°æ®
export const mockUsers: User[] = [
  // æ·»åŠ æˆ–ä¿®æ”¹ç”¨æˆ·...
]

// ä¿®æ”¹ç»Ÿè®¡æ•°æ®
export const mockUserStats: UserStats = {
  totalUsers: 100,  // ä¿®æ”¹æ€»ç”¨æˆ·æ•°
  activeUsers: 80,  // ä¿®æ”¹æ´»è·ƒç”¨æˆ·æ•°
  // ...
}
```

### ä¿®æ”¹ API è¡Œä¸º

**`src/mocks/handlers.ts`** - ä¿®æ”¹ API å“åº”é€»è¾‘
```typescript
// ä¾‹å¦‚ï¼šä¿®æ”¹ç™»å½•é€»è¾‘ï¼Œæ·»åŠ æ›´å¤šæµ‹è¯•è´¦å·
http.post(`${baseURL}/users/login`, async ({ request }) => {
  const body = await request.json()
  // æ·»åŠ ä½ çš„é€»è¾‘...
})
```

### æ·»åŠ å»¶è¿Ÿæ¨¡æ‹Ÿç½‘ç»œ

Mock å·²ç»é…ç½®äº†å»¶è¿Ÿï¼ˆ300-500msï¼‰ï¼Œæ¨¡æ‹ŸçœŸå®ç½‘ç»œç¯å¢ƒã€‚ä½ å¯ä»¥ä¿®æ”¹å»¶è¿Ÿæ—¶é—´ï¼š

```typescript
await delay(1000) // å¢åŠ åˆ° 1 ç§’
```

## ğŸ¨ Mock æ•°æ®ç‰¹ç‚¹

### çœŸå®æ€§
- ä½¿ç”¨çœŸå®çš„å›¾ç‰‡ URLï¼ˆElement Plus CDNï¼‰
- éšæœºç”Ÿæˆçš„æ•°æ®åˆ†å¸ƒ
- ç¬¦åˆå®é™…ä¸šåŠ¡é€»è¾‘

### ä¸°å¯Œæ€§
- ä¸åŒç±»å‹çš„å†…å®¹ï¼ˆå›¾ç‰‡ã€è§†é¢‘ã€æ–‡æœ¬ï¼‰
- ä¸åŒçŠ¶æ€çš„ç”¨æˆ·ï¼ˆæ­£å¸¸ã€ç¦ç”¨ï¼‰
- ä¸åŒæ—¶é—´çš„æ•°æ®ï¼ˆæœ€è¿‘ä¸€ä¸ªæœˆï¼‰

### äº¤äº’æ€§
- åˆ é™¤æ“ä½œä¼šçœŸæ­£ä»æ•°ç»„ä¸­ç§»é™¤æ•°æ®
- åˆ†é¡µå’Œç­›é€‰åŠŸèƒ½å®Œå…¨å¯ç”¨
- æ”¯æŒåŠ¨æ€ä¿®æ”¹

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®é‡ç½®**
   - åˆ·æ–°é¡µé¢åæ‰€æœ‰åˆ é™¤çš„æ•°æ®ä¼šæ¢å¤
   - è¿™æ˜¯å› ä¸º Mock æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­

2. **ä»…å¼€å‘ç¯å¢ƒ**
   - Mock åªåœ¨å¼€å‘ç¯å¢ƒï¼ˆ`npm run dev`ï¼‰å¯åŠ¨
   - ç”Ÿäº§æ„å»ºä¸ä¼šåŒ…å« Mock ä»£ç 

3. **åˆ‡æ¢åˆ°çœŸå®åç«¯**
   - åªéœ€æ³¨é‡Šæ‰ `main.ts` ä¸­çš„ `enableMocking()` è°ƒç”¨
   - æˆ–è€…åˆ é™¤ `src/mocks` ç›®å½•

## ğŸ“ åˆ‡æ¢åˆ°çœŸå®åç«¯

å½“åç«¯å‡†å¤‡å¥½åï¼Œæœ‰ä¸¤ç§æ–¹å¼åˆ‡æ¢ï¼š

### æ–¹å¼ 1: ç¦ç”¨ Mockï¼ˆæ¨èï¼‰
ç¼–è¾‘ `src/main.ts`ï¼Œæ³¨é‡Šæ‰ Mock ç›¸å…³ä»£ç ï¼š

```typescript
// æ³¨é‡Šè¿™éƒ¨åˆ†
// async function enableMocking() {
//   if (import.meta.env.DEV) {
//     const { worker } = await import('./mocks/browser')
//     return worker.start({
//       onUnhandledRequest: 'bypass',
//     })
//   }
// }

// enableMocking().then(() => {
  const app = createApp(App)
  // ...
  app.mount('#app')
// })
```

### æ–¹å¼ 2: åˆ é™¤ Mock æ–‡ä»¶
```bash
rm -rf src/mocks
```

ç„¶åæ¢å¤ `src/main.ts` ä¸ºåŸæ¥çš„ä»£ç ã€‚

## ğŸ‰ å¼€å§‹æµ‹è¯•å§ï¼

ç°åœ¨è¿è¡Œ `npm run dev`ï¼Œè®¿é—® `http://localhost:5173`ï¼Œä½¿ç”¨ `admin/123456` ç™»å½•ï¼Œå¼€å§‹æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼

æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„æ—¥å¿—ä¿¡æ¯ã€‚
