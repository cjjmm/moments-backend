<!--pages/my/my.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="profile-section">
    <block wx:if="{{isLoggedIn}}">
      <view class="profile-card">
        <image wx:if="{{userInfo.avatar}}" class="avatar" src="{{userInfo.avatar}}" mode="aspectFill"></image>
        <view wx:else class="avatar avatar-placeholder-circle">ğŸ‘¤</view>
        <view class="user-info">
          <text class="nickname">{{userInfo.nickname || userInfo.username}}</text>
          <text class="username">@{{userInfo.username}}</text>
        </view>
      </view>
      
      <!-- ç»Ÿè®¡æ•°æ® -->
      <view class="stats-row">
        <view class="stat-item" bindtap="goToMyPosts">
          <text class="stat-value">{{stats.postCount}}</text>
          <text class="stat-label">å‘å¸ƒ</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{stats.likeCount}}</text>
          <text class="stat-label">è·èµ</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{stats.commentCount}}</text>
          <text class="stat-label">è¯„è®º</text>
        </view>
      </view>
    </block>
    
    <!-- æœªç™»å½• -->
    <view class="login-prompt" wx:else>
      <view class="avatar-placeholder">ğŸ‘¤</view>
      <text class="login-text">ç™»å½•åæŸ¥çœ‹æ›´å¤šå†…å®¹</text>
      <button class="login-btn" bindtap="goToLogin">ç«‹å³ç™»å½•</button>
    </view>
  </view>
  
  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section" wx:if="{{isLoggedIn}}">
    <view class="menu-item" bindtap="goToMyPosts">
      <text class="menu-icon">ğŸ“</text>
      <text class="menu-text">æˆ‘çš„å‘å¸ƒ</text>
      <text class="menu-arrow">â€º</text>
    </view>
    
    <view class="menu-item" bindtap="goToFriends">
      <text class="menu-icon">ğŸ‘¥</text>
      <text class="menu-text">å¥½å‹</text>
      <text class="menu-arrow">â€º</text>
    </view>
    
    <view class="menu-item" bindtap="goToSettings">
      <text class="menu-icon">âš™ï¸</text>
      <text class="menu-text">è®¾ç½®</text>
      <text class="menu-arrow">â€º</text>
    </view>
    
    <view class="menu-item logout" bindtap="handleLogout">
      <text class="menu-icon">ğŸšª</text>
      <text class="menu-text">é€€å‡ºç™»å½•</text>
      <text class="menu-arrow">â€º</text>
    </view>
  </view>
</view>
